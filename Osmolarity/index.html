<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Osmolarity - Physiology Games</title>
        <link rel="icon" type="image/vnd.icon" href="../assets/favicon.ico">
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <script language="JavaScript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.2.1/math.js"></script>
        <!-- Left Column -->
        <div id="leftColumn">
            <div id="titleBox" onclick="location.href='../index.html'">
                <h1 id="title">Osmolarity</h1>
                <h2 id="author">Created by Carl Ferlay, under the supervision of Olga Sosnovtseva, Niels-Henrik Holstein-Rahtlou and Charlotte Mehlin Sørensen</h2>
            </div>
            <div id="scoreBox">
                <h3 class="scoreText" style="top: 0px; left: 0px">Current Score:</h3>
                <h3 class="scoreText" style="top: 0px; right: 0px"id="currentScore">0</h3>
                <h3 class="scoreText" style="bottom: 0px; left: 0px">High Score:</h3>
                <h3 class="scoreText" style="bottom: 0px; right: 0px" id="highScore">0</h3>
            </div>
            <div id="instructionsBox">
                <p>
                    The kidneys help maintain the water and salt level of the body.
                    Antidiuretic hormone controls the amount of reabsorbed water and hence the concentration of the excreted urine.
                    There are two systems that create a hyperosmotic medulla:  urea recycling and the countercurrent multiplication.
                </p>
                <h2 class="case1">Case 1: Antidiuresis (High ADH)</h2>
                <p class="case1">Drag the control points to shape the curve !</p>

                <h2 class="case2">Case 2: Water Diuresis (Low ADH)</h2>
                <p class="case2">Drag the control points to shape the curve !</p>

                <h2 class="case3">Case 3: Furosemide</h2>
                <p class="case3">Drag the control points to shape the curve !</p>
            </div>
            <div id="checkButton">Check</div>
        </div>
        <!-- Right Column -->
        <div id="rightColumn">
            <div id="gridContainer">

                <!-- Case Selection -->
                <div id="caseSelectionScreen">
                    <button onclick="startCase(1)">Case 1: Antidiuresis (High ADH)</button>
                    <button onclick="startCase(2)">Case 2: Water Diuresis (Low ADH)</button>
                    <button onclick="startCase(3)">Case 3: Furosemide</button>
                </div>

                <!-- Graph -->
                <div class = 'fullGraph'>
                    <div class="xAxis"></div>
                    <div class="yAxis">
                        <span style="bottom:0%">0</span>
                        <span style="bottom:7.5%">100</span>
                        <span style="bottom:15%">200</span>
                        <span style="bottom:22.5%">300</span>
                        <span style="bottom:45%">600</span>
                        <span style="bottom:67.5%">900</span>
                        <span style="bottom:90%">1200</span>
                    </div>
                    <div class="subGraph" style="width: 20%">
                        <div class="controlPoint visualInstruction" style="left: -0.75vw; bottom: 24%"></div>
                        <div class="controlPoint" style="left: -0.75vw; bottom: 24%"></div>
                        <span>Proximal Tubule</span>
                    </div>
                    <div class="subGraph" style="width: 20%">
                        <div class="subGraph" style="width: 50%; border-right-color: gray;">
                            <div class="controlPoint visualInstruction" style="left: -0.75vw; bottom: 24%"></div>
                            <div class="controlPoint" style="left: -0.75vw; bottom: 24%"></div>
                            <p>descending</p>
                        </div>
                        <div class="subGraph" style="width: 50%; border-right-style: none;">
                            <p>ascending</p>
                            <div class="controlPoint visualInstruction" style="left: -0.75vw; bottom: 24%"></div>
                            <div class="controlPoint" style="left: -0.75vw; bottom: 24%"></div>
                        </div>
                        <span>Loop of Henle</span></div>
                    <div class="subGraph" style="width: 20%">
                        <div class="controlPoint visualInstruction" style="left: -0.75vw; bottom: 24%"></div>
                        <div class="controlPoint" style="left: -0.75vw; bottom: 24%"></div>
                        <span>Distal Tubule</span>
                    </div>
                    <div class="subGraph" style="width: 20%">
                        <div class="subGraph" style="width: 50%; border-right-color: grey;">
                            <div class="controlPoint" style="left: -0.75vw; bottom: 24%"></div>
                            <p>cortical</p>
                        </div>
                        <div class="subGraph" style="width: 50%; border-right-style: none;">
                            <div class="controlPoint" style="left: -0.75vw; bottom: 24%"></div>
                            <p>medullary</p>
                        </div>
                        <span>Collecting Duct</span>
                    </div>
                    <div class="subGraph" style="width: 20%">
                        <div class="controlPoint" style="left: -0.75vw; bottom: 24%"></div>
                        <div class="controlPoint" style="right: -0.75vw; bottom: 24%"></div>
                        <div class="subGraph" style="width: 33.33%; border-right-style: none;">
                            <p>ureter</p>
                        </div>
                        <div class="subGraph" style="width: 33.34%; border-right-style: none;">
                            <p>bladder</p>
                        </div>
                        <div class="subGraph" style="width: 33.33%; border-right-style: none;">
                            <p>urethra</p>
                        </div>
                        <span>Urine</span>
                    </div>
                </div>
                

                <!-- Right-side buttons column -->
                <div id = "buttonsColumn">
                    <div class="buttonWrapper">
                        <img id="colorButton" src="../assets/colorIcon.png">
                        <span>Change color theme</span>
                    </div>
                </div>
            </div>
            <div id="arsenalContainer">
                <!-- Questions handler, with generic first question and answers to be replaced-->
                <div id="questionStart" style="display: none;">
                    <h1 style="font-style: italic;">Adjust the graph to unlock the question module!</h1>
                </div>
                <div id="mcqWrapper" style="display:none;">
                    <div class="questionWrapper">
                        <h2 id="qNumber">Question 1</h2>
                        <h1 id="qTitle">What is the first letter of the alphabet ?</h1>
                        <button id="previousQ" style="font-size: 1em; left: 2.5vw;" class="qButton inactiveButton" onclick="setQuestion(currentQ - 1)">← Previous Question</button>
                        <button id="nextQ" style="font-size: 1em; right: 2.5vw;" class="qButton inactiveButton" onclick="setQuestion(currentQ + 1)">Next Question →</button>
                    </div>
                    <div class="answerWrapper">
                        <div class="singleAnswer">
                            <div class="checkWrapper" style="position: absolute; left: -4vw"><img src="assets/cross.png" id="a1False"><img src="assets/check.png" id="a1True"></div> 
                            <button id="answer1" class="qButton activeButton" onclick="sendAnswer(1)">D</button>
                        </div>
                        <div class="singleAnswer">
                            <div class="checkWrapper" style="position: absolute; left: -4vw"><img src="assets/cross.png" id="a2False"><img src="assets/check.png" id="a2True"></div>
                            <button id="answer2" class="qButton activeButton" onclick="sendAnswer(2)">A</button>
                        </div>
                        <div class="singleAnswer">
                            <div class="checkWrapper" style="position: absolute; left: -4vw"><img src="assets/cross.png" id="a3False"><img src="assets/check.png" id="a3True"></div>
                            <button id="answer3" class="qButton activeButton" onclick="sendAnswer(3)">Q</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <script src="../color_script.js"></script>      <!-- Shared color handler -->
        <script src="script.js"></script>
    </body>
</html>